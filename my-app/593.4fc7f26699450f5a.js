"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[593],{9593:(F,m,i)=>{i.r(m),i.d(m,{AuthModuleModule:()=>O});var c=i(9808),r=i(3075),t=i(5e3),g=i(1897),d=i(3692),p=i(1655),h=i(3242),u=i(7161),f=i(7531);let v=(()=>{class e{validate(o){return(e=>{const n=e.value;if(!n)return null;const o=/[A-Z]+/.test(n),s=/[a-z]+/.test(n),a=/[0-9]+/.test(n),l=/(?=.*\W)/.test(n);return o&&s&&a&&l?null:{passwordValidator:!0}})(o)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=t.lG2({type:e,selectors:[["","passwordValidator",""]],features:[t._Bn([{provide:r.Cf,useExisting:e,multi:!0}])]}),e})();var x=i(5245);function w(e,n){if(1&e&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&e){const o=t.oxw(2);t.Q6J("appLogStatus",o.logStatus),t.xp6(1),t.hij("","You are log-in"," ")}}function C(e,n){if(1&e&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&e){const o=t.oxw(2);t.Q6J("appLogStatus",o.logStatus),t.xp6(1),t.Oqu("You have to log-in")}}function A(e,n){1&e&&(t.TgZ(0,"mat-error",17),t._uU(1,"The login email is invalid "),t.qZA())}function M(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Please enter a login email "),t.qZA())}function T(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Please enter a password"),t.qZA())}function Z(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"You password must have min 8 elements"),t.qZA())}function b(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"You password must have lower case, upper case, symbols and numbers"),t.qZA())}function y(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t.YNc(3,w,2,2,"div",4),t.YNc(4,C,2,2,"div",4),t.TgZ(5,"form",5,6),t.NdJ("ngSubmit",function(){return t.CHM(o),t.oxw().goToApp()}),t.TgZ(7,"h2",7),t._uU(8),t.qZA(),t.TgZ(9,"mat-form-field",8)(10,"mat-label",8),t._uU(11,"login"),t.qZA(),t.TgZ(12,"input",9),t.NdJ("ngModelChange",function(a){return t.CHM(o),t.oxw().user.login=a}),t.qZA(),t.YNc(13,A,2,0,"mat-error",10),t.YNc(14,M,2,0,"mat-error",11),t.qZA(),t.TgZ(15,"mat-form-field",12)(16,"mat-label",8),t._uU(17),t.qZA(),t.TgZ(18,"input",13),t.NdJ("ngModelChange",function(a){return t.CHM(o),t.oxw().user.password=a}),t.qZA(),t.TgZ(19,"mat-icon",14),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return a.hide=!a.hide}),t._uU(20),t.qZA(),t.YNc(21,T,2,0,"mat-error",11),t.YNc(22,Z,2,0,"mat-error",11),t.YNc(23,b,2,0,"mat-error",11),t.qZA(),t.TgZ(24,"button",15),t._uU(25),t.qZA()()()()()}if(2&e){const o=t.oxw();t.xp6(3),t.Q6J("ngIf",o.logStatus),t.xp6(1),t.Q6J("ngIf",!o.logStatus),t.xp6(1),t.Q6J("formGroup",o.loginForm),t.xp6(3),t.Oqu(o.authLabel.title),t.xp6(4),t.Q6J("ngModel",o.user.login),t.xp6(1),t.Q6J("ngIf",o.loginForm.controls.login.hasError("email")),t.xp6(1),t.Q6J("ngIf",o.loginForm.controls.login.hasError("required")),t.xp6(3),t.Oqu(o.authLabel.password),t.xp6(1),t.Q6J("ngModel",o.user.password)("type",o.hide?"password":"text"),t.xp6(2),t.Oqu(o.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",o.loginForm.controls.password.hasError("required")),t.xp6(1),t.Q6J("ngIf",o.password.length>0&&o.password.length<=8),t.xp6(1),t.Q6J("ngIf",o.loginForm.controls.password.hasError("passwordValidator")),t.xp6(1),t.Q6J("disabled",o.loginForm.invalid),t.xp6(1),t.Oqu(o.authLabel.title)}}let S=(()=>{class e{constructor(o,s,a){this.loginService=o,this.router=s,this.storageService=a,this.authLabel={title:"Login",login:"login",password:"password"},this.user={login:"",password:""},this.logStatus=!1,this.hide=!0,this.login="",this.password=""}ngOnInit(){this.loginForm=new r.cw({login:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required,r.kI.minLength(8)])}),this.loginForm.controls.login.valueChanges.subscribe(o=>{this.login=o}),this.loginForm.controls.password.valueChanges.subscribe(o=>{this.password=o}),this.subscription=this.loginService.logoStatus().subscribe(o=>this.logStatus=o),console.log(this.logStatus)}goToApp(){this.loginService.authorization(this.user.login,this.user.password),this.loginService.logIn(),this.loginService.logoStatus()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(g.N),t.Y36(d.F0),t.Y36(p.n))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:1,vars:1,consts:[["class","auth-page section",4,"ngIf"],[1,"auth-page","section"],[1,"wrapper"],[1,"content"],["class","content__title",3,"appLogStatus",4,"ngIf"],[1,"auth-form",3,"formGroup","ngSubmit"],["myForm","ngForm"],[1,"auth-form__title"],[1,"auth-form__name"],["matInput","","formControlName","login","required","","name","name","id","name","type","email",1,"auth-form__input",3,"ngModel","ngModelChange"],["style","color: brown;",4,"ngIf"],[4,"ngIf"],[1,"auth-form__password"],["matInput","","passwordValidator","","formControlName","password","required","","name","password","id","password",1,"auth-form__input",3,"ngModel","type","ngModelChange"],["matSuffix","",2,"width","0em",3,"click"],["type","submit",1,"auth-form__btn",3,"disabled"],[1,"content__title",3,"appLogStatus"],[2,"color","brown"]],template:function(o,s){1&o&&t.YNc(0,y,26,16,"div",0),2&o&&t.Q6J("ngIf",!s.logStatus)},directives:[c.O5,h.g,r._Y,r.JL,r.sg,u.KE,u.hX,f.Nt,r.Fj,r.JJ,r.u,r.Q7,u.TO,v,x.Hw,u.R9],styles:[".auth-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:84vh}.wrapper[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;justify-content:center;align-items:center}.content__title[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:.5rem;text-align:center;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;height:22rem;width:25rem;padding:2rem;background-color:#f2f2f2}.auth-form__title[_ngcontent-%COMP%]{font-size:2rem;align-self:start}.auth-form__input[_ngcontent-%COMP%]{padding:.5rem;border-radius:.5rem;color:#828282;border:.2rem solid #828282a3}.auth-form__name[_ngcontent-%COMP%], .auth-form__password[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:.5rem;margin-bottom:1rem;color:#828282;font-size:10px;line-height:12px}.auth-form__btn[_ngcontent-%COMP%]{align-self:end;width:6rem;padding:1rem;margin-top:2rem;border-radius:.5rem;background-color:#2f80ed;color:#f0f8ff}.auth-form__btn[_ngcontent-%COMP%]:disabled{background-color:#2e7de870}","input.ng-invalid.ng-touched[_ngcontent-%COMP%]{background-color:#de1d1d4f}"]}),e})();var I=i(1747),J=i(3806);const N=[{path:"",component:S}];let O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,r.u5,r.UX,d.Bz.forChild(N),I.I,J.q],d.Bz]}),e})()}}]);